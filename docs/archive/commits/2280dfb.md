# Optimistic lederberg (#79)

**Commit:** `2280dfbc3533e114ec21352907f7db98b05983ef`
**Date:** 2025-12-08
**Auteur:** Tallec7
**Type:** other

## Description

* fix(config-editor): handle undefined videos/subCategories arrays
Fix TypeError when loading site config with categories that don't have
videos or subCategories arrays initialized. Normalize data on load and
add null-safe access in template.
ü§ñ Generated with [Claude Code](https://claude.com/claude-code)
Co-Authored-By: Claude <noreply@anthropic.com>
* fix(config-editor): align interfaces with app :8080 format
Change VideoConfig and SponsorConfig to use name/path/type fields
instead of id/title/filename and logoUrl/websiteUrl to match the
format expected by the local app at :8080.
- VideoConfig: name, type, path (was id, title, filename)
- SponsorConfig: name, type, path (was name, logoUrl, websiteUrl)
- Update template to display correct fields
ü§ñ Generated with [Claude Code](https://claude.com/claude-code)
Co-Authored-By: Claude <noreply@anthropic.com>
* fix(sync-agent): use single config file webapp/configuration.json
Use webapp/configuration.json as the single source of truth for
site configuration. This is the file served by app :8080 (/tv, /remote).
Removes the config duplication between public/ and webapp/ folders.
ü§ñ Generated with [Claude Code](https://claude.com/claude-code)
Co-Authored-By: Claude <noreply@anthropic.com>
* refactor: use webapp/configuration.json as single source of truth
Remove all references to public/configuration.json. The webapp/ folder
contains the Angular build served on :8080, so configuration.json
must live there.
Updated files:
- sync-agent/src/config.js: default config path
- admin/admin-server.js: simplified config candidates
- scripts/setup-new-club.sh: copy config to webapp/
- sync-agent config files and scripts
ü§ñ Generated with [Claude Code](https://claude.com/claude-code)
Co-Authored-By: Claude <noreply@anthropic.com>
---------
Co-authored-by: Claude <noreply@anthropic.com>

## Fichiers modifi√©s

```
raspberry/admin/admin-server.js
raspberry/scripts/setup-new-club.sh
raspberry/sync-agent/README.md
raspberry/sync-agent/config/.env.example
raspberry/sync-agent/scripts/register-site.js
raspberry/sync-agent/scripts/resync-apikey.js
raspberry/sync-agent/src/commands/index.js
raspberry/sync-agent/src/commands/update-software.js
raspberry/sync-agent/src/config.js
```

---
[‚Üê Retour au changelog](../CHANGELOG.md)

