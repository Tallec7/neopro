# Nostalgic perlman (#69)

**Commit:** `57a89ba3f6542a53f2ada2b6c3c726e725a23494`
**Date:** 2025-12-07
**Auteur:** Tallec7
**Type:** other

## Description

* feat(deployment): implement video deployment to sites
Add deployment service that:
- Starts deployment when created via API
- Sends deploy_video command to connected sites via WebSocket
- Updates deployment progress and status based on site responses
- Handles failed deployments when no sites are connected
Also improve socket service to handle deployment progress events
with proper status updates (in_progress, completed, failed).
ü§ñ Generated with [Claude Code](https://claude.com/claude-code)
Co-Authored-By: Claude <noreply@anthropic.com>
* feat(storage): migrate video storage to Supabase Storage
- Replace disk storage with Supabase Storage for video uploads
- Videos are now temporary and automatically deleted after deployment
- Add cleanup logic when all deployments for a video complete
- Remove local /uploads static file serving (no longer needed)
- Add SUPABASE_URL and SUPABASE_SERVICE_KEY environment variables
ü§ñ Generated with [Claude Code](https://claude.com/claude-code)
Co-Authored-By: Claude <noreply@anthropic.com>
* docs: update documentation for Supabase Storage configuration
- Add SUPABASE_URL and SUPABASE_SERVICE_KEY to environment variables
- Document bucket creation and video storage workflow
ü§ñ Generated with [Claude Code](https://claude.com/claude-code)
Co-Authored-By: Claude <noreply@anthropic.com>
---------
Co-authored-by: Claude <noreply@anthropic.com>

## Fichiers modifi√©s

```
central-server/.env.example
central-server/README.md
central-server/package.json
central-server/src/config/supabase.ts
central-server/src/controllers/content.controller.ts
central-server/src/middleware/upload.ts
central-server/src/server.ts
central-server/src/services/deployment.service.ts
docs/DEPLOY_CENTRAL_SERVER.md
```

---
[‚Üê Retour au changelog](../CHANGELOG.md)

